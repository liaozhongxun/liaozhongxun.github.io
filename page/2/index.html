<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/img/favicon.ico?v=5.0.1" />






<meta name="description" content="GitHub小博客">
<meta property="og:type" content="website">
<meta property="og:title" content="Lzo勋">
<meta property="og:url" content="https://liaozhongxun.github.io/page/2/index.html">
<meta property="og:site_name" content="Lzo勋">
<meta property="og:description" content="GitHub小博客">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lzo勋">
<meta name="twitter:description" content="GitHub小博客">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>

  <title> Lzo勋 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?7b698a59e9f2049758892d7fe83c12fd";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Lzo勋</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">web前端</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-share">
          <a href="/resource" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-share-square-o"></i> <br />
            
            分享
          </a>
        </li>
      
        
        <li class="menu-item menu-item-collect">
          <a href="/studeWeb" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-star-o"></i> <br />
            
            收藏
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/30/mongoDB/" itemprop="url">
                  mongoDB
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-30T21:57:26+08:00" content="2016-12-30">
              2016-12-30
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/30/mongoDB/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/30/mongoDB/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>(1) 基本使用<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//安装好之后,从bin目录中找到mongod.exe 和 mongo.exe</span></div><div class="line"><span class="comment">//mongod 启动后台数据库，mongo 启动前台连接数据库(要在C盘创建一个 data/db目录)</span></div><div class="line"></div><div class="line"><span class="comment">//启动mongo</span></div><div class="line">show dbs <span class="comment">//查看所有数据库</span></div><div class="line">         <span class="comment">//新创建的数据库不在数据列表中，要插入一下数据才能显示</span></div><div class="line"></div><div class="line">db <span class="comment">//显示当前数据库  </span></div><div class="line"><span class="comment">//mongodb 分  数据库(database) =&gt; 集合() =&gt;文档对象</span></div><div class="line"><span class="comment">//mysql   分  数据库 =&gt; 表 =&gt; 记录 </span></div><div class="line"></div><div class="line">use DATABASE_NAME <span class="comment">//打开或创建数据库</span></div><div class="line"></div><div class="line">db.createCollection(<span class="string">"集合名"</span>) <span class="comment">//手动在当前数据库下创建一个集合</span></div><div class="line">show collection <span class="comment">//显示当前数据库下得集合</span></div><div class="line"></div><div class="line">db.集合名.insert(&#123;<span class="string">"_id"</span>:<span class="string">"1"</span>,<span class="string">"name"</span>:<span class="string">"liaozhongxun"</span>,<span class="string">"age"</span>:<span class="string">"20"</span>&#125;) </div><div class="line"><span class="comment">//往当前数据库的这个集合中插入一个文档对象(如果没有这个集合就默认创建一个)</span></div><div class="line"></div><div class="line">db.dropDatabase()  <span class="comment">//删除当前数据库</span></div><div class="line">db.集合名.drop() <span class="comment">//删除当前数据库下得某个集合</span></div><div class="line"></div><div class="line"><span class="comment">//=======================文档操作</span></div><div class="line"><span class="comment">//通过insert给集合插入文档</span></div><div class="line"><span class="comment">//db.集合名.save 也能新增文档</span></div><div class="line"><span class="comment">//给集合添加文档时 _id(主键)重复 insert方式会报错,save方式会更新</span></div><div class="line"></div><div class="line">db.集合名.find() <span class="comment">//显示当前表的所有记录(没有设置id的对象会自动添加一个)</span></div><div class="line">db.集合名.find().prettye <span class="comment">//格式化查找到的记录 find中都能带条件</span></div><div class="line">db.集合名.find().count() <span class="comment">//记录个数</span></div><div class="line">db.集合名.find().limit(<span class="number">3</span>) <span class="comment">//只要3条</span></div><div class="line">db.集合名.find().skip(<span class="number">3</span>) <span class="comment">//跳过第3条</span></div><div class="line">db.集合名.findOne() <span class="comment">//显示符合要求的第一个对象</span></div><div class="line"></div><div class="line">db.集合名.updata(&#123;<span class="string">"条件字段名"</span>,<span class="string">"条件字段值"</span>&#125;,&#123;<span class="attr">$set</span>:&#123;<span class="string">"要修改的字段名"</span>:<span class="string">"修改后的字段值"</span>&#125;&#125;)  <span class="comment">//收到更新指定字段</span></div><div class="line"></div><div class="line">db.集合名.remove(&#123;<span class="string">"条件字段名"</span>,<span class="string">"条件字段值"</span>&#125;) <span class="comment">//删除指定文档</span></div><div class="line">db.集合名.remove() <span class="comment">//删除所有文档</span></div><div class="line"></div><div class="line"><span class="comment">//======================条件</span></div><div class="line"><span class="comment">//&#123;"age":&#123;$gt:5&#125;&#125;  得到age &gt; 5 的所有记录</span></div><div class="line"><span class="comment">//&#123;"age":&#123;$gt:5&#125;&#125;.sort("age":1)  得到的记录中 按age升序</span></div><div class="line"><span class="comment">//&#123;"age":&#123;$gt:5&#125;&#125;.sort("age":-1)  得到的记录中 按age降序</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//=======================与nodejs连接</span></div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/26/Express/" itemprop="url">
                  Express
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-26T20:36:35+08:00" content="2016-12-26">
              2016-12-26
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/26/Express/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/26/Express/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>(1)安装<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">$ npm install -g express-generator@<span class="number">4</span>  </div><div class="line"></div><div class="line"><span class="comment">//创建express工程</span></div><div class="line">$ express /tmp/foo &amp;&amp; cd /tmp/foo </div><div class="line"><span class="comment">//创建不同的express工程,ejs模式比较简单</span></div><div class="line">$ express ejs expreEjs &amp;&amp; cd /expreEjs</div><div class="line"></div><div class="line">$ npm install</div><div class="line"></div><div class="line">$ npm start</div><div class="line"></div><div class="line"><span class="comment">//访问 http://localhost:3000/</span></div></pre></td></tr></table></figure></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/24/nodejs/" itemprop="url">
                  nodejs
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-24T10:37:27+08:00" content="2016-12-24">
              2016-12-24
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/24/nodejs/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/24/nodejs/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="NODE"><a href="#NODE" class="headerlink" title="NODE"></a>NODE</h1><h2 id="node的基本概念1"><a href="#node的基本概念1" class="headerlink" title="node的基本概念1"></a>node的基本概念1</h2><hr>
<p>(1) nodejs 是一个让JavaScript运行在服务端的平台</p>
<h2 id="node内置全局变量"><a href="#node内置全局变量" class="headerlink" title="node内置全局变量"></a>node内置全局变量</h2><hr>
<h3 id="process"><a href="#process" class="headerlink" title="process"></a>process</h3><hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//process</span></div><div class="line"><span class="comment">//arr[0] 是node，arr[1]是脚本文件名，arr[3]开始每个元素是一个运行参数。</span></div><div class="line"><span class="built_in">console</span>.log(precess.argv); <span class="comment">//process.argv返回命令行参数数组</span></div><div class="line"></div><div class="line">process.stdout.write(<span class="string">""</span>);  <span class="comment">//标准输出流  console.log的底层也是这个</span></div><div class="line"></div><div class="line">process.stdin.resume(); <span class="comment">//标准输入流</span></div><div class="line">process.stdin.on(<span class="string">'data'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">data</span>)</span>&#123;<span class="comment">//获取输入的数据</span></div><div class="line">    process.stdout.write(data)</div><div class="line">    <span class="built_in">console</span>.log(data) <span class="comment">//得到的buffer值</span></div><div class="line">&#125;)</div><div class="line"><span class="comment">//或</span></div><div class="line">process.stdin.on(<span class="string">'readable'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> chunk = process.stdin.read();</div><div class="line">  <span class="keyword">if</span> (chunk !== <span class="literal">null</span>) &#123;</div><div class="line">    process.stdout.write(<span class="string">'data: '</span> + chunk);</div><div class="line">  &#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="Buffer-用于操作二进制数据流"><a href="#Buffer-用于操作二进制数据流" class="headerlink" title="Buffer 用于操作二进制数据流"></a>Buffer 用于操作二进制数据流</h3><hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">//创建Buffer对象 并且为这个对象分配一个大小</span></div><div class="line"><span class="comment">//new Buffer(size||[]) 第二个参数能指定编码   </span></div><div class="line"><span class="comment">//当为一个buffer对象分配了一个空间大小之后其长度是不能改变的</span></div><div class="line"><span class="keyword">var</span> bf = <span class="keyword">new</span> Buffer(<span class="string">'liaozhongxun'</span>) </div><div class="line"><span class="built_in">console</span>.log(bf);</div><div class="line"><span class="built_in">console</span>.log(bf.length) <span class="comment">// bf的字节长度</span></div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>.fromCharCode( bf[<span class="number">0</span>] )); <span class="comment">//将bf二进制转化为字符</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> bf1 = <span class="keyword">new</span> Buffer(<span class="number">9</span>)</div><div class="line">bf1.write(<span class="string">"liaozhong"</span>,<span class="number">2</span>,<span class="number">5</span>) <span class="comment">//只会写入五个字符,偏移,写入的长度,字符串的编码(默认utf-8)</span></div><div class="line"><span class="built_in">console</span>.log(bf1) <span class="comment">//只有bf1的第三个位置有一个值</span></div><div class="line"></div><div class="line"><span class="built_in">console</span>.log( bf1.toString() ) <span class="comment">//将bf对象转化为字符串</span></div><div class="line"><span class="built_in">console</span>.log( bf1.toString(<span class="string">"utf-8"</span>,<span class="number">1</span>,<span class="number">3</span>) ) <span class="comment">//从第一位开始 返回长度3 不包括第3个</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> bf2 = bf1.slice(<span class="number">2</span>,<span class="number">3</span>) <span class="comment">//从位置2开始 到位置3 不包括3</span></div><div class="line"><span class="built_in">console</span>.log(bf2)  <span class="comment">//bf2与bf1引用的对象是相同的,改变bf2也会改变bf1</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> bf3 = <span class="keyword">new</span> Buffer(<span class="number">10</span>); </div><div class="line">bf1.copy(bf3,<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>) ;  <span class="comment">//这样就不影响原来的对象了, </span></div><div class="line"><span class="comment">//参数2 拷贝到目标对象的第几位</span></div><div class="line"><span class="comment">//参数3、4  拷贝原对象的第几位到第几位</span></div><div class="line"><span class="built_in">console</span>.log(bf3)</div><div class="line"></div><div class="line"><span class="comment">//Buffer 类犯法、对象方法</span></div><div class="line">Buffer.isEncoding(<span class="string">'utf-8'</span>);</div></pre></td></tr></table></figure>
<h2 id="模块和包的概念"><a href="#模块和包的概念" class="headerlink" title="模块和包的概念"></a>模块和包的概念</h2><hr>
<h3 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h3><hr>
<p>nodejs中一个js文件就是一个模块,模块中可以通过require(“”)引入node核心模块或 自定义模块或依赖包</p>
<h3 id="包"><a href="#包" class="headerlink" title="包"></a>包</h3><hr>
<p>包是在模块的基础上深层的抽象,模块的集合,他将某个独立功能封装起来,用于发布、更新、依赖管理版本控制, 通过npm获取需求</p>
<h2 id="node的内置核心模块"><a href="#node的内置核心模块" class="headerlink" title="node的内置核心模块"></a>node的内置核心模块</h2><hr>
<h3 id="http模块"><a href="#http模块" class="headerlink" title="http模块"></a>http模块</h3><hr>
<h4 id="服务端-http模块"><a href="#服务端-http模块" class="headerlink" title="服务端 http模块"></a>服务端 http模块</h4><hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="comment">//引入模块</span></div><div class="line"><span class="keyword">var</span> http = <span class="built_in">require</span>(<span class="string">"http"</span>);</div><div class="line"><span class="string">``</span></div><div class="line"><span class="comment">//====================================================</span></div><div class="line"><span class="comment">//原生的创建服务</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> server = <span class="keyword">new</span> http.Server();</div><div class="line">server.on(<span class="string">"request"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line">    <span class="comment">//响应头</span></div><div class="line">    res.writeHead(<span class="number">200</span>,&#123;<span class="string">'Content-Type'</span>:<span class="string">'text/html'</span>&#125;)</div><div class="line">    <span class="comment">//响应内容</span></div><div class="line">    res.write(<span class="string">'&lt;h1&gt;启成功&lt;/h1&gt;'</span>)</div><div class="line">    <span class="comment">//结束响应</span></div><div class="line">    res.end(<span class="string">'&lt;h1&gt;结束&lt;/h1&gt;'</span>)</div><div class="line">&#125;)</div><div class="line">server.listen(<span class="number">8080</span>)</div><div class="line"></div><div class="line"><span class="comment">//====================================================</span></div><div class="line"><span class="comment">//创建服务</span></div><div class="line"></div><div class="line"><span class="comment">//req 请求信息 对应事件:http.ServerRequest,</span></div><div class="line"><span class="comment">//res 响应信息 对应事件:http.ServerResponse</span></div><div class="line">http.createServer(<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line">    <span class="comment">//获得请求url</span></div><div class="line">    <span class="built_in">console</span>.log(req.url)</div><div class="line"></div><div class="line">    <span class="comment">//post方式体积大 -- 分段</span></div><div class="line">    <span class="keyword">var</span> str = <span class="string">""</span>;</div><div class="line">    <span class="comment">//获取post方式请求的数据</span></div><div class="line">    req.on(<span class="string">"data"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">chunk</span>)</span>&#123;</div><div class="line">        str += chunk;</div><div class="line">    &#125;)</div><div class="line">    <span class="comment">//数据全部到达时执行</span></div><div class="line">    req.on(<span class="string">"end"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(str)</div><div class="line">    &#125;)</div><div class="line">  <span class="comment">//请求相关事件</span></div><div class="line">  <span class="comment">//data：当请求体数据到来时，该事件被触发，该事件一共一个参数chunk，表示接受到的数据。</span></div><div class="line">  <span class="comment">//end：当请求体数据传输完成时，该事件被触发，此后将不会再有数据到来。</span></div><div class="line">  <span class="comment">//close：用户当前请求结束时，该事件被触发，不同于end，如果用户强制终止了传输，也会触发close</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">//响应头</span></div><div class="line">    res.writeHead(<span class="number">200</span>,&#123;<span class="string">'Content-Type'</span>:<span class="string">'text/html'</span>&#125;) <span class="comment">//告诉浏览器响应内容的格式</span></div><div class="line">    <span class="comment">//响应内容</span></div><div class="line">    res.write(<span class="string">'&lt;h1&gt;启ggg成功&lt;/h1&gt;'</span>)</div><div class="line">    <span class="comment">//结束响应</span></div><div class="line">    res.end(<span class="string">'&lt;h1&gt;结束&lt;/h1&gt;'</span>) <span class="comment">//如果没有结束响应,请求的时候回一直转</span></div><div class="line">  <span class="comment">//监听端口</span></div><div class="line">&#125;).listen(<span class="number">8081</span>)</div><div class="line"></div><div class="line"><span class="comment">//====================================================</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> server2 = http.createServer();</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//监听错误</span></div><div class="line">server2.on(<span class="string">"error"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(err)</div><div class="line">&#125;)</div><div class="line"><span class="comment">//请求</span></div><div class="line">server2.on(<span class="string">"request"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req,res</span>)</span>&#123;</div><div class="line">     <span class="built_in">console</span>.log(<span class="string">"客户的请求server2了"</span>)</div><div class="line">     <span class="comment">//响应内容</span></div><div class="line">    res.write(<span class="string">'&lt;h1&gt;启ggg成功&lt;/h1&gt;'</span>);</div><div class="line">    <span class="comment">//结束响应</span></div><div class="line">    res.end(<span class="string">'&lt;h1&gt;结束&lt;/h1&gt;'</span>) <span class="comment">//调用该方法告诉服务器所有信息已经发送完成了</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">//监听端口成功后触发的事件</span></div><div class="line">server2.on(<span class="string">"listening"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"listening..."</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line"></div><div class="line">server2.listen(<span class="number">8082</span>)</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">   server.listen(port,[hostname],[backlog],[callback]);</span></div><div class="line"><span class="comment">   --port : 监听的端口</span></div><div class="line"><span class="comment">   --hostnamm : 主机名(IP/域名)</span></div><div class="line"><span class="comment">   --backlog : 连接等待队列的最大长度</span></div><div class="line"><span class="comment">   --callback : 调用listen监听端口成功之后 会触发一个listening事件,callback将作为该事件的执行函数</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="built_in">console</span>.log(server2.address());</div></pre></td></tr></table></figure>
<h3 id="file模块"><a href="#file模块" class="headerlink" title="file模块"></a>file模块</h3><hr>
<p>文件的每个方法都有对应的同步方法,同步方法没有回调函数<br>(1) open等底层方法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>)</div><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">fs.open(path,flage,[mode],callback);</span></div><div class="line"><span class="comment">path: 打开的文件路径</span></div><div class="line"><span class="comment">flage: 打开文件的方式 读/读写  r/r+</span></div><div class="line"><span class="comment">[modo]: 设置文件模式 读/写/执行</span></div><div class="line"><span class="comment">callback:</span></div><div class="line"><span class="comment">      err：打开失败错误信息,如果成功 err = null</span></div><div class="line"><span class="comment">      fd：被打开文件的标识 </span></div><div class="line"><span class="comment">*/</span></div><div class="line">fs.open(<span class="string">"file.txt"</span>,<span class="string">"r+"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,fd</span>)</span>&#123; <span class="comment">//模式是可有可无的</span></div><div class="line">    <span class="keyword">if</span>(err)&#123; <span class="comment">//err为错误对象</span></div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"文件打开失败"</span>)</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(fd); <span class="comment">//当前打开文件的编号 通过这个编号操作file.txt</span></div><div class="line"></div><div class="line">        <span class="comment">/* ==================fs.read</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">        fs.read(fd,buffer,offset,length,posotion,callback);</span></div><div class="line"><span class="comment">        fd:读取文件的到fd</span></div><div class="line"><span class="comment">        buffer:读取数据到这来</span></div><div class="line"><span class="comment">        offset:读取的信息写入buffer的偏移位置</span></div><div class="line"><span class="comment">        positong:读取文件的偏移位置</span></div><div class="line"><span class="comment">        length: 添加多少长度</span></div><div class="line"><span class="comment">        */</span></div><div class="line">        <span class="keyword">var</span> buf = <span class="keyword">new</span> Buffer(<span class="string">'liaozhongxun'</span>);</div><div class="line">        <span class="built_in">console</span>.log(buf)</div><div class="line">        fs.read(fd,buf,<span class="number">5</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,len,newbuf</span>)</span>&#123;</div><div class="line">            <span class="comment">//err 错误信息</span></div><div class="line">            <span class="comment">//len  读取字节的长度</span></div><div class="line">            <span class="comment">//newbuf 新生成的buf对象 ,</span></div><div class="line">            <span class="built_in">console</span>.log(err)  <span class="comment">//null</span></div><div class="line">            <span class="built_in">console</span>.log(len)  <span class="comment">//8</span></div><div class="line">            <span class="built_in">console</span>.log(buf.toString())  </div><div class="line">            <span class="built_in">console</span>.log(newbuf)</div><div class="line">            <span class="built_in">console</span>.log(buf == newbuf)  <span class="comment">//true</span></div><div class="line">        &#125;)</div><div class="line"></div><div class="line">        <span class="comment">/* ===================fs.write</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">        fs.write(fd,buffer,offset,length,posotion,callback)</span></div><div class="line"><span class="comment">        fd:操作的文件</span></div><div class="line"><span class="comment">        buffer:写入文件的数据</span></div><div class="line"><span class="comment">        offset:buffer 对象中要写入的数据的起始位置</span></div><div class="line"><span class="comment">        length:要写入的buffer数据的长度</span></div><div class="line"><span class="comment">        position:写入fd的起始位置</span></div><div class="line"><span class="comment">        */</span></div><div class="line">        <span class="keyword">var</span> bf2 = <span class="keyword">new</span> Buffer(<span class="string">"liaozhong"</span>)</div><div class="line">        fs.write(fd,bf2,<span class="number">0</span>,<span class="number">5</span>,<span class="number">0</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">             <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</div><div class="line">        &#125;)</div><div class="line"></div><div class="line">        <span class="comment">//write bf对象可以改成字符串</span></div><div class="line">        <span class="comment">//fs.write(fd,str,填写到文件的位置,编码) 添加整个字符串</span></div><div class="line"></div><div class="line">        <span class="comment">//fs.close(fd,callback) 关闭文件</span></div><div class="line">    &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>(2) 快捷方法 - &gt; 读取文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</div><div class="line"><span class="comment">//异步读取</span></div><div class="line">fs.readFile(<span class="string">'file.txt'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123; </div><div class="line">    <span class="keyword">if</span>(err)&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"读取失败"</span>)</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"readFile异步 后出 得到的内容是"</span> + data)</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;)</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"readFile异步 先出 无阻赛"</span>);</div><div class="line"></div><div class="line"><span class="comment">//同步读取</span></div><div class="line"><span class="keyword">var</span> SyncFs = fs.readFileSync(<span class="string">'file.txt'</span>,<span class="string">'UTF-8'</span>) <span class="comment">//同步不需要回调</span></div><div class="line"><span class="built_in">console</span>.log(SyncFs);</div><div class="line"></div><div class="line"><span class="comment">//删除文件</span></div><div class="line">fs.unlink(<span class="string">"2.txt"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</div><div class="line">    <span class="keyword">if</span>(err)&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"删除失败"</span>);</div><div class="line">    &#125;<span class="keyword">else</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log(<span class="string">"删除成功"</span>))</div><div class="line">    &#125;</div><div class="line">&#125;)</div><div class="line"><span class="comment">//文件重命名</span></div><div class="line">fs.rename(<span class="string">"2.txt"</span>,<span class="string">"new.text"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;)</div><div class="line"></div><div class="line"><span class="comment">//查看文件状态信息</span></div><div class="line">fs.stat(<span class="string">"2.txt"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">file,fileInfo</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">arguments</span>)</div><div class="line">    fileInfo.modo == <span class="number">16822</span>  <span class="comment">//文件类型为文件夹</span></div><div class="line">    fileInfo.modo == <span class="number">33206</span>  <span class="comment">//文件类型为文件</span></div><div class="line">&#125;) <span class="comment">//文件的信息</span></div></pre></td></tr></table></figure>
<p>(3) 快捷方法 - &gt; 写入文件</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</div><div class="line"><span class="keyword">var</span> filename = <span class="string">'2.txt'</span>;<span class="comment">//有这个文件就覆盖,没有就先创建文件在添加</span></div><div class="line">fs.writeFile(filename,<span class="string">"hello"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="comment">//参数二可以是 str 也能是buffer</span></div><div class="line"></div><div class="line">&#125;)</div><div class="line"></div><div class="line">fs.appendFild() <span class="comment">//追加</span></div><div class="line">fs.exists(filename,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;err为<span class="literal">false</span>就文件不存在&#125;) <span class="comment">//判断文件是否存在</span></div></pre></td></tr></table></figure>
<p>(4) 文件watch监听<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</div><div class="line"><span class="keyword">var</span> filename = <span class="string">'2.txt'</span>;</div><div class="line">fs.watch(filename,<span class="function"><span class="keyword">function</span>(<span class="params">ev,fn</span>)</span>&#123; </div><div class="line">   <span class="built_in">console</span>.log(ev) <span class="comment">//文件发生了什么样的变化 </span></div><div class="line">   <span class="keyword">if</span>(fn)&#123; <span class="comment">//保证fn的存在，因为有的操作系统不提供fn</span></div><div class="line">       <span class="built_in">console</span>.log(fn + <span class="string">"发生了改变"</span>)</div><div class="line">   &#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>(5) 文件夹操作<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">"fs"</span>);</div><div class="line"></div><div class="line"><span class="comment">//fs.mkdir(path,[modo权限],callback) </span></div><div class="line">fs.mkdir(<span class="string">"./xinjian"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;) <span class="comment">//创建文件夹</span></div><div class="line"></div><div class="line"><span class="comment">//fs.rmdir(path,function()&#123;&#125;)</span></div><div class="line">fs.rmdir(<span class="string">"./xinjian"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;) <span class="comment">// 删除文件夹</span></div><div class="line"></div><div class="line"><span class="comment">//fs.readdir(path,function(arr,fileList)&#123;&#125;)</span></div><div class="line">fs.readdir(<span class="string">"./"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">arr,fileList</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(fileList)</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<h3 id="event-事件"><a href="#event-事件" class="headerlink" title="event 事件"></a>event 事件</h3><hr>
<p>(1)事件方法</p>
<pre><code>EventEmitter.on(event,listener)为指定事件注册一个监听器，接受一个字符串event和一个回调函数listener
EventEmitter.emit(event,[arg1],[arg2]....) 发射event事件，传递若干可选参数到事件监听器的参数表
EventEmitter.once(event,listener) 为指定事件注册一个单次监听器，即监听器最多只会触发一次，触发后立刻解除该监听器。
EventEmitter.removeListener(event,listener)移除指定事件的某个监听器，listener必须是该事件已经注册过的监听器。
EventEmitter.removeAllListeners([event]) 移除所有事件的所有监听器，如果指定event，则移除指定事件的所有监听器。
</code></pre><p>(2) 声明一个事件对象<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//申明一个事件对象</span></div><div class="line"><span class="keyword">var</span> EventEmitter = <span class="built_in">require</span>(<span class="string">'events'</span>).EventEmitter;</div><div class="line"><span class="keyword">var</span> event = <span class="keyword">new</span> EventEmitter();</div><div class="line"></div><div class="line"><span class="comment">//注册一个事件</span></div><div class="line">event.on(<span class="string">"console_event"</span>,<span class="function"><span class="keyword">function</span>(<span class="params">arg1,arg2</span>)</span>&#123; <span class="comment">//事件名 和该事件所要做的是</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"这是一个自定义事件"</span>,arg1,arg2)</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">//注册的事件有多个监听器  触发是两个方法依次执行</span></div><div class="line">event.on(<span class="string">"console_event"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123; <span class="comment">//事件名 和该事件所要做的是</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"这是第二个个自定义事件"</span>)</div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="comment">//触发事件</span></div><div class="line">event.emit(<span class="string">"console_event"</span>,<span class="string">"参数1"</span>,<span class="string">"参数2"</span>);</div><div class="line">event.emit(<span class="string">"console_event"</span>,<span class="string">"参数1"</span>,<span class="string">"参数2"</span>); <span class="comment">//如果是 once方式注册的 这里就不会触发了</span></div><div class="line"><span class="comment">// 输出</span></div><div class="line"><span class="comment">// 这是一个自定义事件 参数1 参数2</span></div><div class="line"><span class="comment">// 这是第二个个自定义事件</span></div><div class="line"></div><div class="line">event.emit(<span class="string">"error"</span>) <span class="comment">//内置事件 直接可以触发</span></div></pre></td></tr></table></figure></p>
<p>(3) nodejs的事件循环机制<br>    node程序是由事件循环开始到事件循环结束,所有逻辑都是事件的回调函数</p>
<h3 id="util"><a href="#util" class="headerlink" title="util"></a>util</h3><hr>
<p>(1) util 提供的继承 util.inherits(Sub,Parent)<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> util = <span class="built_in">require</span>(<span class="string">"util"</span>);</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Base</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = <span class="string">"base"</span>;</div><div class="line">    <span class="keyword">this</span>.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="built_in">console</span>.log( <span class="keyword">this</span>.name + <span class="string">"的函数"</span>)</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">Base.prototype.giveSub=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">"给你"</span>)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Sub</span>(<span class="params"></span>)</span>&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"></div><div class="line">util.inherits(Sub,Base); <span class="comment">//Sub 构造函数继承 Base.prototype的所有方法</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> Base = <span class="keyword">new</span> Base();</div><div class="line">Base.say();  <span class="comment">//正常</span></div><div class="line">Base.giveSub();  <span class="comment">//正常</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> Sub = <span class="keyword">new</span> Sub();</div><div class="line">Sub.say();  <span class="comment">//报错</span></div><div class="line">Sub.giveSub();  <span class="comment">//给你</span></div></pre></td></tr></table></figure></p>
<p>(2)util.inspect(object,[showHidden],[depth],[colors])</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="built_in">console</span>.log(Base)</div><div class="line"><span class="built_in">console</span>.log(util.inspect(Base))</div><div class="line"><span class="built_in">console</span>.log(util.inspect(Base,<span class="literal">true</span>,<span class="number">2</span>,<span class="literal">true</span>))</div><div class="line"><span class="comment">//showHidden : 是一个可选参数，如果值为true，将会输出更多隐藏信息.</span></div><div class="line"><span class="comment">//depth : 标识最大的递归的层数，如果对象很复杂，你可以指定层数以控制输出信息的多少。默认为2层，指定为null打印出来全部</span></div><div class="line"><span class="comment">//color为true，输出格式将会以ANSI颜色编码，通常用于在终端显示更漂亮的效果。</span></div></pre></td></tr></table></figure>
<h3 id="Url"><a href="#Url" class="headerlink" title="Url"></a>Url</h3><hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">"url"</span>);</div><div class="line"></div><div class="line"><span class="comment">//解析客户端到服务的的url 参数二默认为false,改为true的话 会对象形式输出query</span></div><div class="line">urlarr = url.parse(url,<span class="literal">false</span>,<span class="literal">true</span>) </div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">var</span> url = <span class="built_in">require</span>(<span class="string">'url'</span>);</div><div class="line">url.format(&#123;  <span class="comment">//将对象转为url</span></div><div class="line">    protocol: <span class="string">'http:'</span>,</div><div class="line">    hostname:<span class="string">'www.baidu.com'</span>,</div><div class="line">    port:<span class="string">'80'</span>,</div><div class="line">    pathname :<span class="string">'/news'</span>,</div><div class="line">    query:&#123;<span class="attr">page</span>:<span class="number">1</span>&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h3 id="Path"><a href="#Path" class="headerlink" title="Path"></a>Path</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> path = <span class="built_in">require</span>(<span class="string">"path"</span>);</div><div class="line"></div><div class="line"><span class="comment">//normalize函数将不符合规范的路径经过格式化转换为标准路径</span></div><div class="line">path.normalize(<span class="string">'/path///normalize/hi/..'</span>); <span class="comment">// '/path/normalize/' ,解析路径中的.与..外，还能去掉多余的斜杠。</span></div><div class="line"></div><div class="line"><span class="comment">//组合路径</span></div><div class="line">path.join(<span class="string">'///you'</span>, <span class="string">'/are'</span>, <span class="string">'//beautiful'</span>); <span class="comment">//  '/you/are/beautiful'</span></div><div class="line"></div><div class="line"><span class="comment">//dirname函数用来返回路径中的目录名</span></div><div class="line">path.dirname(<span class="string">'/foo/strong/cool/nice'</span>) <span class="comment">// '/foo/strong/cool'; </span></div><div class="line"></div><div class="line">basename函数可返回路径中的最后一部分，并且可以对其进行条件排除</div><div class="line">例<span class="number">1</span>：path.basename(<span class="string">'路径字符串'</span>);</div><div class="line"><span class="keyword">var</span> data1 = path.basename(<span class="string">'/foo/strong/basename/index.html'</span>); <span class="comment">//index.html</span></div><div class="line"></div><div class="line">例<span class="number">2</span>：path.basename(<span class="string">'路径字符串'</span>, <span class="string">'[ext]'</span>)&lt;排除[ext]后缀字符串&gt;;</div><div class="line"><span class="keyword">var</span> data2 = path.basename(<span class="string">'/foo/strong/basename/index.html'</span>,<span class="string">'.html'</span>); <span class="comment">//index</span></div><div class="line"></div><div class="line"><span class="comment">//返回文件扩展名</span></div><div class="line">path.extname(<span class="string">'index.html'</span>); <span class="comment">//.html  没有点则返回空</span></div></pre></td></tr></table></figure>
<h3 id="querystring-序列化对象"><a href="#querystring-序列化对象" class="headerlink" title="querystring 序列化对象"></a>querystring 序列化对象</h3><hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> querystring = <span class="built_in">require</span>(<span class="string">"querystring"</span>);</div><div class="line"></div><div class="line"><span class="comment">//(1)将一个对象序列化为querystring字符串</span></div><div class="line">querystring.stringify(&#123; <span class="attr">foo</span>: <span class="string">'bar'</span>, <span class="attr">baz</span>: [<span class="string">'qux'</span>, <span class="string">'quux'</span>], <span class="attr">corge</span>: <span class="string">''</span> &#125;)</div><div class="line"><span class="comment">// returns</span></div><div class="line"><span class="string">'foo=bar&amp;baz=qux&amp;baz=quux&amp;corge='</span></div><div class="line"></div><div class="line"><span class="comment">//指定分隔符</span></div><div class="line">querystring.stringify(&#123;<span class="attr">foo</span>: <span class="string">'bar'</span>, <span class="attr">baz</span>: <span class="string">'qux'</span>&#125;, <span class="string">';'</span>, <span class="string">':'</span>)</div><div class="line"><span class="comment">// returns</span></div><div class="line"><span class="string">'foo:bar;baz:qux'</span></div><div class="line"></div><div class="line"><span class="comment">//中午编码</span></div><div class="line">querystring.stringify(</div><div class="line">     &#123; <span class="attr">w</span>: <span class="string">'中文'</span>, <span class="attr">foo</span>: <span class="string">'bar'</span> &#125;, </div><div class="line">     <span class="literal">null</span>, </div><div class="line">     <span class="literal">null</span>,</div><div class="line">     &#123; <span class="attr">encodeURIComponent</span>: gbkEncodeURIComponent &#125;</div><div class="line">)</div><div class="line"><span class="comment">// returns</span></div><div class="line"><span class="string">'w=%D6%D0%CE%C4&amp;foo=bar'</span></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//(2)将querystring字符串反序列化为对象</span></div><div class="line"><span class="comment">//querystring.parse(str[, sep][, eq][, options])</span></div><div class="line">querystring.parse(<span class="string">'foo=bar&amp;baz=qux&amp;baz=quux&amp;corge'</span>)</div><div class="line"><span class="comment">// returns</span></div><div class="line">&#123; <span class="attr">foo</span>: <span class="string">'bar'</span>, <span class="attr">baz</span>: [<span class="string">'qux'</span>, <span class="string">'quux'</span>], <span class="attr">corge</span>: <span class="string">''</span> &#125;</div></pre></td></tr></table></figure>
<h1 id="NODE-WOS"><a href="#NODE-WOS" class="headerlink" title="NODE WOS"></a>NODE WOS</h1>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/18/ES6/" itemprop="url">
                  ES6
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-18T19:58:28+08:00" content="2016-12-18">
              2016-12-18
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/18/ES6/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/18/ES6/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="let关键字"><a href="#let关键字" class="headerlink" title="let关键字"></a>let关键字</h3><h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><p>   (1) 不允许重复声明同一个变量<br>   (2) 使js有块级作用域( 在{}中定义的变量比如if、for里的变量外面不能访问,每个作用域只能范围其内部的变量 )<br>   (3) 没有与解析的过程(先访问后定义 值不是undefined而是报错)<br>   (4) let的代码块(作用域)下,从一开始到let定义一个变量之间的区域,这个变量无法使用,就是暂存死区</p>
<h3 id="const常量"><a href="#const常量" class="headerlink" title="const常量"></a>const常量</h3><p>   const定义的变量不能修改,但是如果常量是一个对象,那么对象里面的属性是能修改的</p>
<h3 id="扩展运算符"><a href="#扩展运算符" class="headerlink" title="扩展运算符"></a>扩展运算符</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"liao"</span>; <span class="comment">//代表ES6中所有有遍历接口的数组或类数组 </span></div><div class="line"><span class="keyword">var</span> arr = [...str] <span class="comment">// arr = ["l","i","a","o"]</span></div></pre></td></tr></table></figure>
<h3 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h3><p>   解构赋值是ec6通过一定模式,从数组或对象中提取值,然后对变量进行赋值<br>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//数组的解构</span></div><div class="line"><span class="keyword">var</span> value = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</div><div class="line"><span class="keyword">var</span> [el1, el2, el3] = value;</div><div class="line"></div><div class="line"><span class="built_in">console</span>.log(el1 +<span class="string">"、"</span>+ el2 +<span class="string">"、"</span>+ el3) <span class="comment">//1、2、3</span></div><div class="line"><span class="comment">//按顺序,可以深层嵌套</span></div><div class="line"></div><div class="line"><span class="comment">//对象的解构</span></div><div class="line"><span class="keyword">var</span> person = &#123;<span class="attr">firstName</span>: <span class="string">"John"</span>, <span class="attr">name</span>:<span class="string">"Meiqu"</span> ,<span class="attr">lastName</span>: <span class="string">"Doe"</span>&#125;;</div><div class="line"><span class="keyword">var</span> &#123;firstName, lastName&#125; = person;</div><div class="line">  </div><div class="line"><span class="built_in">console</span>.log(firstName + <span class="string">"、"</span> + lastName) <span class="comment">// John 、Doe</span></div><div class="line"><span class="comment">//根据key解构</span></div><div class="line"><span class="comment">//深层嵌套</span></div><div class="line"><span class="keyword">var</span> person = &#123;<span class="attr">name</span>: &#123;<span class="attr">firstName</span>: <span class="string">"John"</span>, <span class="attr">lastName</span>: <span class="string">"Doe"</span>&#125;&#125;;</div><div class="line"><span class="keyword">var</span> &#123;<span class="attr">name</span>: &#123;firstName, lastName&#125;&#125; = person;</div></pre></td></tr></table></figure></p>
<p>作用:函数只能返回一个值,解构赋值可以将函数返回的数组解构出来使用</p>
<h3 id="String-扩展"><a href="#String-扩展" class="headerlink" title="String 扩展"></a>String 扩展</h3><h4 id="String-方法"><a href="#String-方法" class="headerlink" title="String 方法"></a>String 方法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">str.repeat(n) <span class="comment">//将字符串平铺n次</span></div><div class="line">str.includes(char,起始位置) <span class="comment">//查找字符串中有没有对应的字符,返回bool</span></div><div class="line">str.startsWith(char,起始位置) <span class="comment">//如果str中含有char,并且在头部,返回true,否则false</span></div><div class="line">str.endsWith(char,起始位置) <span class="comment">//如果str中含有char,并且在尾部,返回true,否则false</span></div></pre></td></tr></table></figure>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">旧字符串拼接: str = &quot;liao&quot; + a + &quot;xun&quot;;</div><div class="line">新字符串拼接: str = `liao$&#123;a&#125;xun`</div></pre></td></tr></table></figure>
<h3 id="Array-扩展"><a href="#Array-扩展" class="headerlink" title="Array 扩展"></a>Array 扩展</h3><h4 id="Array-方法"><a href="#Array-方法" class="headerlink" title="Array 方法"></a>Array 方法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = <span class="built_in">Array</span>.form(divs); <span class="comment">//将类数组转成数组,也可以转字符串</span></div><div class="line"><span class="keyword">var</span> arr = <span class="built_in">Array</span>.of(<span class="string">"参数一"</span>,<span class="string">"参数N"</span>) <span class="comment">//将所有参数转换为数组</span></div></pre></td></tr></table></figure>
<h4 id="Array-实例-方法"><a href="#Array-实例-方法" class="headerlink" title="Array 实例 方法"></a>Array 实例 方法</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = arr.find(<span class="function"><span class="keyword">function</span>(<span class="params">value,index</span>)</span>&#123; <span class="comment">//遍历数组arr</span></div><div class="line">    <span class="keyword">return</span> <span class="string">"条件"</span>  <span class="comment">//返回第一个符合条件的数组元素 value</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = arr.findIndex(<span class="function"><span class="keyword">function</span>(<span class="params">value,index</span>)</span>&#123; <span class="comment">//遍历数组arr</span></div><div class="line">    <span class="keyword">return</span> <span class="string">"条件"</span>  <span class="comment">//返回第一个符合条件的数组元素 index</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">var</span> arr = arr.fill(<span class="string">"值"</span>,<span class="string">"开始位置"</span>,<span class="string">"介绍位置"</span>) <span class="comment">//将arr数组的所有元素变为这个值</span></div></pre></td></tr></table></figure>
<h4 id="for-of"><a href="#for-of" class="headerlink" title="for of"></a>for of</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> value <span class="keyword">of</span> obj)&#123;&#125; <span class="comment">//只能遍历有遍历接口的对象</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> key <span class="keyword">of</span> arr.keys())&#123;&#125; <span class="comment">//遍历数组的key</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> value <span class="keyword">of</span> arr.values())&#123;&#125; <span class="comment">//遍历数组的value (默认)</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> [key,value] <span class="keyword">of</span> arr.entries())&#123;&#125; <span class="comment">//遍历数组的key end value</span></div></pre></td></tr></table></figure>
<h4 id="数组推导-新"><a href="#数组推导-新" class="headerlink" title="数组推导(新)"></a>数组推导(新)</h4><p>(1) 数组推导就是通过现有的数组生成新的数组</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</div><div class="line"></div><div class="line"><span class="keyword">var</span> arr2 = [<span class="keyword">for</span>(value <span class="keyword">of</span> arr) value*<span class="number">2</span>] <span class="comment">//arr2 = 2 4 7 8 10 </span></div><div class="line"><span class="keyword">var</span> arr2 = [<span class="keyword">for</span>(value <span class="keyword">of</span> arr) 可以加判断 value*<span class="number">2</span>] <span class="comment">//arr2 = 2 4 7 8 10</span></div></pre></td></tr></table></figure>
<h3 id="Object-扩展"><a href="#Object-扩展" class="headerlink" title="Object 扩展"></a>Object 扩展</h3><p>(1) 函数返回<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ES5 : <span class="keyword">return</span> &#123;<span class="attr">x</span>:x,<span class="attr">y</span>:y&#125;</div><div class="line">ES6 : <span class="keyword">return</span> &#123;x,y&#125;</div></pre></td></tr></table></figure></p>
<p>(2) 对象中的函数<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">    name:<span class="string">"o"</span>,</div><div class="line">    showName:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name</div><div class="line">    &#125;,</div><div class="line">    showName()&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>(3) 可以用表达式作为属性名,用中括号括起来 如: [..]:function(){};<br>(4) Object 方法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Object</span>.keys(obj) <span class="comment">//得到对象的所有key</span></div><div class="line"></div><div class="line"><span class="built_in">Object</span>.is(NAN,NAN)  <span class="comment">//判断两个参数是否相等,返回bool,两个NAN得到true ,0 与 -0 得到false</span></div><div class="line"><span class="built_in">Object</span>.assign(obj1,obj2,obj3) <span class="comment">//合并对象,obj3 覆盖 obj2 覆盖 obj1</span></div><div class="line"><span class="built_in">Object</span>.getPrototypeOf(obj) <span class="comment">//获取对象的Prototype</span></div><div class="line"><span class="built_in">Object</span>.setPrototypeOf(obj,obj1.Prototype) <span class="comment">//设置对象的,让obj的prototype指向obj1的prototype</span></div><div class="line"></div><div class="line"><span class="built_in">Object</span>.observe(obj,<span class="string">"回调"</span>,<span class="string">"事件类型"</span>); <span class="comment">//监测对象的变化,obj发生某个类型变化时,调用回调,</span></div><div class="line"><span class="built_in">Object</span>.unobserve(obj,<span class="string">"回调"</span>); <span class="comment">//取消监测对象</span></div></pre></td></tr></table></figure></p>
<h3 id="Proxy-代理对象"><a href="#Proxy-代理对象" class="headerlink" title="Proxy 代理对象"></a>Proxy 代理对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> pro = <span class="keyword">new</span> <span class="built_in">Proxy</span>(obj,&#123; <span class="comment">//obj就是要代理的对象,参数二就是对代理对象的处理</span></div><div class="line">    set(obj,attr,value)&#123; <span class="comment">//对代理对象的设置就会先触发set方法</span></div><div class="line">        obj[attr] = value;</div><div class="line">    &#125;,</div><div class="line">    get(obj,attr)&#123; <span class="comment">//对代理对象的访问就会先触发get方法</span></div><div class="line">        <span class="keyword">return</span> 出去的值,就是你访问obj对象的attr属性所得到的值</div><div class="line">    &#125;    </div><div class="line">&#125;)</div><div class="line"><span class="built_in">console</span>.log(pro.a)  <span class="comment">//得到return出来的值</span></div></pre></td></tr></table></figure>
<h3 id="函数扩展"><a href="#函数扩展" class="headerlink" title="函数扩展"></a>函数扩展</h3><h4 id="参数默认值"><a href="#参数默认值" class="headerlink" title="参数默认值"></a>参数默认值</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">def</span>(<span class="params">a,b=<span class="number">1</span></span>)</span>&#123;&#125; <span class="comment">//调用时默认参数二为1</span></div></pre></td></tr></table></figure>
<h4 id="rest参数-第二种arguments"><a href="#rest参数-第二种arguments" class="headerlink" title="rest参数 第二种arguments"></a>rest参数 第二种arguments</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">rest</span>(<span class="params">a,b,c,...ddd</span>)</span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(...ddd)</div><div class="line">&#125;</div><div class="line">rest(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>)  <span class="comment">//打印出4、5、6</span></div></pre></td></tr></table></figure>
<h4 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//匿名函数</span></div><div class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; &lt;===&gt; <span class="function"><span class="params">()</span> =&gt;</span> &#123;&#125;  <span class="comment">//只有一个操作就不要最后面的大括号了</span></div><div class="line">                             <span class="comment">//不传参要用小括号站位</span></div><div class="line"><span class="function"><span class="keyword">function</span>(<span class="params">a</span>)</span>&#123;&#125; &lt;===&gt; <span class="function"><span class="params">a</span> =&gt;</span> &#123;&#125;  <span class="comment">//只有一个操作就可以不要大括号了</span></div><div class="line"><span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;&#125; &lt;===&gt; <span class="function">(<span class="params">a,b</span>) =&gt;</span> &#123;&#125;  <span class="comment">//多个参数也要用小括号括起来</span></div><div class="line"></div><div class="line"><span class="comment">//箭头函数内的this 指向定义时所在的对象,而不是使用时所作的对象</span></div><div class="line"><span class="comment">//不能当做构造函数 不能new</span></div><div class="line"><span class="comment">//箭头函数里面没有arguments</span></div><div class="line"></div><div class="line">有名函数</div></pre></td></tr></table></figure>
<h3 id="Reflect-对象"><a href="#Reflect-对象" class="headerlink" title="Reflect 对象"></a>Reflect 对象</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Reflect</span>.ownKeys(obj) <span class="comment">//也能返回一个对象的所有key</span></div></pre></td></tr></table></figure>
<h3 id="新增的数据-解构"><a href="#新增的数据-解构" class="headerlink" title="新增的数据 解构"></a>新增的数据 解构</h3><h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//set与数组类似,但他的值不能重复</span></div><div class="line"><span class="keyword">var</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>,<span class="number">5</span>,<span class="number">5</span>]);  <span class="comment">// 1 、5 </span></div><div class="line">set.size <span class="comment">//set 长度</span></div><div class="line">set.add(<span class="number">6</span>) <span class="comment">//添加一个set元素</span></div><div class="line">set.delete(<span class="number">6</span>) <span class="comment">//删除set元素6</span></div><div class="line">set.has(<span class="number">6</span>) <span class="comment">//判断set中是否有6这个元素 返回一个bool值</span></div><div class="line">set.clear() <span class="comment">//清空set中多有成员</span></div></pre></td></tr></table></figure>
<h4 id="Weakset"><a href="#Weakset" class="headerlink" title="Weakset"></a>Weakset</h4><h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>([[]]) <span class="comment">//参数解构 [[key,value],[key,value]]  不会出现从复的key</span></div><div class="line">map.size  <span class="comment">//成员数量</span></div><div class="line">map.set(<span class="string">"key"</span>,<span class="string">"value"</span>) <span class="comment">//新增值</span></div><div class="line">map.get(<span class="string">"key"</span>) <span class="comment">//获取</span></div><div class="line">map.has(<span class="string">"key"</span>) <span class="comment">//判断key是否存在</span></div><div class="line">map.delete(<span class="string">"key"</span>) <span class="comment">//删除key</span></div><div class="line">map.clear() <span class="comment">//清空所有</span></div><div class="line"></div><div class="line">map.keys()...map.values()...map.entries() <span class="comment">//map提供的遍历接口</span></div><div class="line">map.forEach(<span class="function"><span class="keyword">function</span>(<span class="params">val,key</span>)</span>&#123;&#125;)</div></pre></td></tr></table></figure>
<h4 id="Weakmap"><a href="#Weakmap" class="headerlink" title="Weakmap"></a>Weakmap</h4><h4 id="遍历接口-lterator-和-Symbol"><a href="#遍历接口-lterator-和-Symbol" class="headerlink" title="遍历接口 lterator 和 Symbol"></a>遍历接口 lterator 和 Symbol</h4><p>Symbol : ES6引入的新的原始数据类型,通过Symbol可以生成一个独一无二的ID<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> s = <span class="built_in">Symbol</span>() <span class="comment">//不能使用new, typeof s为symbol</span></div><div class="line"><span class="keyword">var</span> s = <span class="built_in">Symbol</span>(<span class="string">"s1"</span>) <span class="comment">//可以传入值进行标识,即使传入相同的值也不会返回相等ID</span></div></pre></td></tr></table></figure></p>
<p>部署遍历接口<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Object</span>.prototype[<span class="built_in">Symbol</span>.iterabor] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="keyword">var</span> keys = <span class="built_in">Object</span>.keys(<span class="keyword">this</span>) <span class="comment">//this代表当前调用变量接口的对象</span></div><div class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span>;</div><div class="line">    <span class="keyword">var</span> index = <span class="number">0</span>;</div><div class="line">    <span class="keyword">return</span> &#123;</div><div class="line">        next()&#123;</div><div class="line">            <span class="keyword">return</span> index &lt; keys.length ? &#123; <span class="attr">value</span>:<span class="number">1</span>,<span class="attr">done</span>:<span class="literal">false</span>&#125; : &#123;<span class="attr">value</span>:<span class="literal">undefined</span>,<span class="attr">done</span>:<span class="literal">true</span>&#125;</div><div class="line">            <span class="comment">//value 当前遍历的值,done 当前遍历是否结束</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span>* <span class="title">helloWorldGenerator</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">yield</span> <span class="string">'hello'</span>;  </div><div class="line">  <span class="keyword">yield</span> <span class="string">'world'</span>;</div><div class="line">  <span class="keyword">return</span> <span class="string">'ending'</span>; <span class="comment">//return代表函数结束了</span></div><div class="line">  <span class="comment">//每次调用next方法，内部指针就从函数头部或上一次停下来的地方开始执行，直到遇到下一个yield语句（或return语句）为止。换言之，Generator函数是分段执行的，yield语句是暂停执行的标记，而next方法可以恢复执行。</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> hw = helloWorldGenerator();</div><div class="line"></div><div class="line">hw.next()</div><div class="line"><span class="comment">// &#123; value: 'hello', done: false &#125;</span></div><div class="line"></div><div class="line">hw.next()</div><div class="line"><span class="comment">// &#123; value: 'world', done: false &#125;</span></div><div class="line"><span class="comment">// next 传的参数通过上一次yield 的返回结果得到</span></div><div class="line"></div><div class="line">hw.next() <span class="comment">//遇到return时 done为true</span></div><div class="line"><span class="comment">// &#123; value: 'ending', done: true &#125;</span></div><div class="line"></div><div class="line">hw.next()</div><div class="line"><span class="comment">// &#123; value: undefined, done: true &#125;</span></div></pre></td></tr></table></figure>
<h4 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> pro = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve,reject</span>)</span>&#123;</div><div class="line">       <span class="comment">//经过很多操作之后</span></div><div class="line">       resove();</div><div class="line">&#125;)</div><div class="line"></div><div class="line">pro.then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">"成功"</span>)</div><div class="line">   <span class="comment">//当上面执行 resove() 的时候走这里</span></div><div class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   <span class="built_in">console</span>.log(<span class="string">"失败"</span>)</div><div class="line">   <span class="comment">//当上面执行 reject() 的时候走这里</span></div><div class="line">&#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</div><div class="line">    <span class="comment">//报错时走这里</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line">---</div><div class="line"></div><div class="line"><span class="keyword">var</span> pro3 = Promist.all([pro1,pro2]);</div><div class="line">pro3.then(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="comment">//pro1 和 pro2 都成功(调用resolve())之后 </span></div><div class="line">&#125;,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="comment">//pro1 和 pro2 只要有一个失败(调用reject())就马上走这里</span></div><div class="line">&#125;)</div><div class="line"></div><div class="line"><span class="keyword">var</span> pro3 = Promist.race([pro1,pro2]);</div><div class="line">pro3.then() </div><div class="line"></div><div class="line"><span class="comment">//race函数的参数中 只要有一个的状态(变成调用resove()) 改变,就走成功</span></div><div class="line"><span class="comment">//race函数的参数中 只要有一个的状态(变成调用reject()) 改变,就走失败</span></div></pre></td></tr></table></figure>
<h3 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//====es6</span></div><div class="line"><span class="comment">// 1</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span></span>&#123;</div><div class="line">    <span class="keyword">constructor</span>(name)&#123; <span class="comment">//这个类的构造函数</span></div><div class="line">        <span class="keyword">this</span>.name = name; </div><div class="line">    &#125;</div><div class="line">    getName()&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 2 继承</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat2</span> <span class="keyword">extends</span> <span class="title">Cat</span></span>&#123;</div><div class="line">    <span class="keyword">constructor</span>(name,color)&#123; </div><div class="line">        <span class="keyword">super</span>(name) </div><div class="line">        <span class="comment">//在 constructor 内,super指代父类的contructor,</span></div><div class="line">        <span class="comment">//在 其他方法内,super指定父类的同名方法</span></div><div class="line">        <span class="keyword">this</span>.color = color; </div><div class="line">    &#125;</div><div class="line">&#125;<span class="comment">//已经继承了 并且有自己的color属性</span></div><div class="line"></div><div class="line"><span class="comment">//====es6结束</span></div><div class="line"><span class="comment">//===========================</span></div><div class="line"><span class="comment">//====原生</span></div><div class="line"><span class="comment">// 1</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">   <span class="keyword">this</span>.name = name;</div><div class="line">&#125;</div><div class="line">Cat.prototype.getName = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">   <span class="keyword">return</span> <span class="keyword">this</span></div><div class="line">&#125;</div><div class="line"><span class="comment">//====原生结束</span></div></pre></td></tr></table></figure>
<h3 id="Module"><a href="#Module" class="headerlink" title="Module"></a>Module</h3><pre><code class="javascript">
</code></pre>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/16/NPM-插件/" itemprop="url">
                  NPM 插件
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-16T11:22:04+08:00" content="2016-12-16">
              2016-12-16
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/16/NPM-插件/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/16/NPM-插件/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="nodejs-调试插件"><a href="#nodejs-调试插件" class="headerlink" title="nodejs 调试插件"></a>nodejs 调试插件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">npm install supervisor -g</div><div class="line"></div><div class="line">//node server.js 每次更改server服务内容时 需要重启服务才行</div><div class="line">//supervisor server.js 每次更改server服务内容时 不要重启直接刷新就行</div></pre></td></tr></table></figure>
<h4 id="更新-package-json-的依赖"><a href="#更新-package-json-的依赖" class="headerlink" title="更新 package.json 的依赖"></a>更新 package.json 的依赖</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">npm install -g npm-check-updates  </div><div class="line">  </div><div class="line">//ncu 检查版本</div><div class="line">//ncu -u 更新需要更新的版本</div><div class="line">//ncu -a 更新所有版本</div></pre></td></tr></table></figure>
<hr>
<h4 id="表格行列拖拽"><a href="#表格行列拖拽" class="headerlink" title="表格行列拖拽"></a>表格行列拖拽</h4><hr>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install table-dragger --save</div></pre></td></tr></table></figure>
<h4 id="删除插件-删除node-node-modules"><a href="#删除插件-删除node-node-modules" class="headerlink" title="删除插件(删除node_node_modules)"></a>删除插件(删除node_node_modules)</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">npm install -g rimraf </div><div class="line">cd xxx  </div><div class="line">rimraf node_modules</div></pre></td></tr></table></figure>
<h4 id="移动端真机调试"><a href="#移动端真机调试" class="headerlink" title="移动端真机调试"></a>移动端真机调试</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install table-dragger spy-<span class="keyword">debugger</span></div></pre></td></tr></table></figure>
<h4 id="MySQL模块-node项目下安装之后，该node项目就能连接MySQL了"><a href="#MySQL模块-node项目下安装之后，该node项目就能连接MySQL了" class="headerlink" title="MySQL模块(node项目下安装之后，该node项目就能连接MySQL了)"></a>MySQL模块(node项目下安装之后，该node项目就能连接MySQL了)</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install mysql</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/15/WEB前端真机调试/" itemprop="url">
                  WEB前端真机调试
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-15T19:16:57+08:00" content="2016-12-15">
              2016-12-15
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/15/WEB前端真机调试/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/15/WEB前端真机调试/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="连接USB-Google调试"><a href="#连接USB-Google调试" class="headerlink" title="连接USB Google调试"></a>连接USB Google调试</h3><p>(1) 使用数据线连接安卓手机和电脑(USB驱动一定要全部成功安装)</p>
<p>(2) 进入手机设置中的开发者选项 , 打开USB调试 ,手机上会跳出弹出框(给予计算机权限)</p>
<p>(3) 确定之后 在Google中输入 chrome://inspect/就能查看到连接成功的设备,如果没有就没连接成功</p>
<p>(4) 用手机打开本机开启的页面,能访问的页面,会自动线上在 chrome://inspect/ 下</p>
<p>(5) 点击其下面的连接inspect 就能弹出真机调试框了</p>
<p>(6) 但是有由于Google需要下载一下插件,所以第一次使用需要翻墙(不然就是白茫茫的一片)</p>
<p>(7) 安装成功之后就有内容显示了</p>
<h3 id="使用插件调试"><a href="#使用插件调试" class="headerlink" title="使用插件调试"></a>使用插件调试</h3><p>(1) 通过一下代码安装weinre 并启动服务</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm install weinre -g --registry=https://registry.npm.taobao.org</div><div class="line">weinre --httpPort 8989 (端口随意设置)</div></pre></td></tr></table></figure>
<p>(2) 浏览器中输入  <a href="http://localhost:8989" target="_blank" rel="external">http://localhost:8989</a>  打开页面</p>
<p>(3) 这里会尝产生一个脚本文件,引入要调试的页面</p>
<p><img src="/img/zjts_script.png" alt="引入这个脚本"></p>
<p>(4) 下图中有两个链接,第一个是入口文件,进去后就能看的引入脚本文件,并且在浏览器打开的地址了</p>
<p><img src="/img/zjts_in.png" alt="进入第一个链接入口文件"></p>
<h3 id="原文连接-里面还有iPhone的方法-和一些其他的调试文章"><a href="#原文连接-里面还有iPhone的方法-和一些其他的调试文章" class="headerlink" title="原文连接 里面还有iPhone的方法,和一些其他的调试文章"></a><a href="http://www.tuicool.com/articles/MbYz6fA" target="_blank" rel="external">原文连接</a> 里面还有iPhone的方法,和一些其他的调试文章</h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/14/JavaScript基础/" itemprop="url">
                  JavaScript基础
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-14T22:59:50+08:00" content="2016-12-14">
              2016-12-14
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/14/JavaScript基础/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/14/JavaScript基础/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h3><h4 id="js六中数据类型-number-boolean-string-null-undefined-object"><a href="#js六中数据类型-number-boolean-string-null-undefined-object" class="headerlink" title="js六中数据类型[number,boolean,string,null,undefined,object]"></a>js六中数据类型[number,boolean,string,null,undefined,object]</h4><pre><code>number

<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">console.log(Number.MAX_VALUE) //Number的最大值</div><div class="line">console.log(Number.MIN_VALUE) //Number的最小值</div><div class="line">console.log(Number.MAX_VALUE + Number.MAX_VALUE) //无穷大</div><div class="line">console.log(10/0)  //数学上没意义,计算机上无穷大</div></pre></td></tr></table></figure>
</code></pre><h4 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h4><p>   ++n //先计算,再返回</p>
<p>   n++ //先返回,再计算</p>
<p>   ==  //只比较大小,不比较类型(或者 == 会对值进行隐式转换 , === 的不会)</p>
<p>   比较运算符与逻辑非返回的一定是Boolean值</p>
<p>   &amp;&amp;、|| 两边原则上是布尔类型的,不是的话会自动转换,返回一个boolean值<br>   (其中涉及到短路运算,如果一方以能觉得最终结果,另外一端就不会再算了)<br>   (js中,如果两边<code>不是布尔值</code>会得到具体的值,能算的哪边就返回哪边的值)</p>
<h4 id="分支结构与循环"><a href="#分支结构与循环" class="headerlink" title="分支结构与循环"></a>分支结构与循环</h4><p>   break : 可以用于循环,switch,跳分支结构与循环结构<br>   continue : 只能用于循环,跳出循环<br>   break后可以跟标志位跳到指定的位置 </p>
<h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><p>   直接定义的函数<strong>同一作用域下</strong>函数可以先调用后加载称为预加载<br>   变量赋值方式没有预加载</p>
<p>   arguments 属性代表其处于的函数的参数数组</p>
<p>   递归 : 函数里面嵌套本身<br>   function fn(){ fn() } === function(){ arquments.calee() }<br>   <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//最简单的递归案例</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">jieCeng</span>(<span class="params">n</span>)</span>&#123;</div><div class="line">     <span class="keyword">if</span>( n==<span class="number">1</span> )&#123;</div><div class="line">         <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">     &#125;</div><div class="line">     <span class="comment">//return n * jieCeng(n - 1);</span></div><div class="line">     <span class="keyword">return</span> n * calee(n - <span class="number">1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>   耦合度 : 一次代码发生改变导致其他代码也发生改变(所以程序要低耦合)</p>
<h3 id="DOM操作（通过Js对D操作Dom-）"><a href="#DOM操作（通过Js对D操作Dom-）" class="headerlink" title="DOM操作（通过Js对D操作Dom ）"></a>DOM操作（通过Js对D操作Dom ）</h3><h4 id="获取-get"><a href="#获取-get" class="headerlink" title="获取(get)"></a>获取(get)</h4><p>(1) 获取原生节点</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.getElementById(<span class="string">""</span>);</div><div class="line"><span class="built_in">document</span>.getElementsByTagName(<span class="string">""</span>); <span class="comment">//通过元素获取 返回HTMLCollection类数组</span></div><div class="line"><span class="built_in">document</span>.getElementsByName(<span class="string">""</span>); <span class="comment">//通过类名获取 返回HTMLCollection类数组 通过[i]和.item(i) 得到某一个</span></div></pre></td></tr></table></figure>
<p>(2) 基于节点获取节点</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//如果元素后直接跟文本或空格,得到的就是文本节点</span></div><div class="line">oDiv.lastChild/oDiv.firstChild.nodeValue</div><div class="line"></div><div class="line"><span class="comment">//获得所有子节点(主流浏览器会回车这类的节点,ie678没有)</span></div><div class="line">oDiv.childNodes</div><div class="line"></div><div class="line"><span class="comment">//获取兄弟节点</span></div><div class="line">oDiv.previousSibling/oDiv.nextSibling</div><div class="line"></div><div class="line"><span class="comment">//获取父节点</span></div><div class="line">oDiv.parentNode</div><div class="line"></div><div class="line"><span class="comment">//获取||设置属性节点</span></div><div class="line"><span class="comment">//(1) 只获取设置w3c规定的属性   //jQuery的prop()</span></div><div class="line">    oDiv.属性   修改input的type属性含有兼容性问题</div><div class="line"></div><div class="line"><span class="comment">//(2) w3c规定的属性和自定义属性 //jQuery的attr()</span></div><div class="line">    oDiv.getAttribute(<span class="string">""</span>);    </div><div class="line">    oDiv.setAttribute(<span class="string">""</span>,<span class="string">""</span>); </div><div class="line"></div><div class="line"><span class="comment">//(3) oDiv.attributes  //获取所有属性</span></div></pre></td></tr></table></figure>
<p>(3) 节点类型(nodeType)</p>
<pre><code>node.nodeType == 1  //元素节点
node.nodeType == 2  //属性节点
node.nodeType == 3  //文本节点
node.nodeType == 4  //文档节点
</code></pre><p>(4) 节点的创建和追加与删除</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">元素节点: <span class="built_in">document</span>.createElement(<span class="string">"标签名称"</span>)</div><div class="line">文本节点: <span class="built_in">document</span>.createTextNode(<span class="string">"标签名称"</span>)</div><div class="line">属性节点: node.setAttribute(<span class="string">"节点名"</span>,<span class="string">"节点值"</span>)</div><div class="line"></div><div class="line">节点追加: <span class="string">"父节点"</span>.appendChild(<span class="string">"子节点"</span>)</div><div class="line">          <span class="string">"父节点"</span>.insertBefore(<span class="string">"newnode"</span>,<span class="string">"oldnode"</span>) <span class="comment">//nownode 放到 oldnode前面</span></div><div class="line">          <span class="string">"父节点"</span>.replaceChild(<span class="string">"newnode"</span>,<span class="string">"oldnode"</span>) <span class="comment">//nownode 替换到 oldnode</span></div><div class="line"></div><div class="line">删除节点: <span class="string">"父节点"</span>.removeChild(<span class="string">"子节点"</span>) </div><div class="line">          <span class="string">"节点"</span>.remove()</div></pre></td></tr></table></figure>
<p>(5) 节点的复制</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">node.cloneNode(<span class="literal">true</span>/<span class="literal">false</span>) </div><div class="line"><span class="comment">// true  复制本身节点和属性 + 内部节点</span></div><div class="line"><span class="comment">// false 只复制本身节点和属性</span></div></pre></td></tr></table></figure>
<p>(6) DOM的css样式操作<br>    – 操作行内样式<br>    获取css样式 : node.style.css样式名称<br>    设置css样式 : node.style.css样式名称 = “样式值” //有则修改没有则添加<br>-<br>    复合样式要用驼峰式命名(因为变量规则没有 - 字符)<br>    – 操作外部样式<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.getComputedStyle) &#123;</div><div class="line"></div><div class="line">    style = <span class="built_in">window</span>.getComputedStyle(obj, <span class="literal">null</span>);    <span class="comment">// 非IE</span></div><div class="line"></div><div class="line">&#125; <span class="keyword">else</span> &#123; </div><div class="line"></div><div class="line">    style = obj.currentStyle;  <span class="comment">// IE</span></div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">"width="</span> + style.width + <span class="string">"height="</span> + style.height)</div></pre></td></tr></table></figure></p>
<h3 id="BOM操作-操作浏览器主要属性和方法）node上是无法使用的"><a href="#BOM操作-操作浏览器主要属性和方法）node上是无法使用的" class="headerlink" title="BOM操作(操作浏览器主要属性和方法）node上是无法使用的"></a>BOM操作(操作浏览器主要属性和方法）node上是无法使用的</h3><h4 id="对象属性"><a href="#对象属性" class="headerlink" title="对象属性"></a>对象属性</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">(<span class="number">1</span>) <span class="built_in">window</span>.navigator            <span class="comment">//浏览器信息</span></div><div class="line">    <span class="built_in">window</span>.navigator.appVersion <span class="comment">//浏览器版本信息</span></div><div class="line">    <span class="built_in">window</span>.navigator.userAgent  <span class="comment">//浏览器用户代理信息</span></div><div class="line"></div><div class="line">(<span class="number">2</span>) <span class="built_in">window</span>.location                                  <span class="comment">//地址栏信息</span></div><div class="line">    <span class="built_in">window</span>.location.reload();                        <span class="comment">//刷新</span></div><div class="line">    <span class="built_in">window</span>.location.href = <span class="built_in">window</span>.location.href;     <span class="comment">//刷新</span></div><div class="line"></div><div class="line">(<span class="number">3</span>) <span class="built_in">window</span>.history               <span class="comment">//历史记录信息</span></div><div class="line">    <span class="built_in">window</span>.history.length        <span class="comment">//历史记录数码</span></div><div class="line">    <span class="built_in">window</span>.history.back()        <span class="comment">//后退</span></div><div class="line">    <span class="built_in">window</span>.history.go(n)         <span class="comment">//到达任意想去的历史记录(0 刷新 1 前进1页 2 后退一页)</span></div><div class="line">(<span class="number">4</span>) <span class="built_in">window</span>.screen                           <span class="comment">//屏幕信息</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.screen.height)       <span class="comment">//高度</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.screen.width)        <span class="comment">//宽度</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.screen.availHeight)  <span class="comment">//浏览器可用高度</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="built_in">window</span>.screen.availWidth)   <span class="comment">//浏览器可用宽度(可视区宽高)</span></div><div class="line">(<span class="number">5</span>) <span class="built_in">window</span>.document   <span class="comment">//文档对象</span></div></pre></td></tr></table></figure>
<h4 id="window对象方法"><a href="#window对象方法" class="headerlink" title="window对象方法"></a>window对象方法</h4><p>alert() || confirm() || open() || close() || print() || setInterval() 等</p>
<h3 id="事件操作"><a href="#事件操作" class="headerlink" title="事件操作"></a>事件操作</h3><h4 id="DOM1级事件"><a href="#DOM1级事件" class="headerlink" title="DOM1级事件"></a>DOM1级事件</h4><p>(1) 直接写在行间的事件,相当于原生的属性</p>
<p>(2) 定义方式<br>    <div onclick="funcName()"></div><br>    oDiv.onclick = function(){}</p>
<p>(3) 取消DOM1事件: oDiv.onclick = null;</p>
<p>(4) return false 取消浏览器默认行为只对DOM1级事件有效(兼容IE低版本)</p>
<h4 id="DOM2级事件"><a href="#DOM2级事件" class="headerlink" title="DOM2级事件"></a>DOM2级事件</h4><p>(1) 相对于DOM1级的优势<br>    给同一个对象设置多个相同的事件<br>    可以操作事件流</p>
<p>(2) 主流浏览器<br>    监听事件: oDiv.addEventListener(“无on事件名”,function(){},事件流)//匿名函数<br>    监听事件取消: oDiv.removeEventListener(“事件”,”函数名”,事件流) //不能取消匿名函数<br>-<br>    事件流: true 事件捕获 、 false 事件冒泡<br>    事件冒泡 : 从外往内依次执行<br>    事件捕获 : 从内往外依次执行<br>-<br>    阻止事件冒泡 : event.stopPropagation()<br>    阻止默认行为 : event.preventDefault()</p>
<p>(3) IE9以下 非主流<br>    监听事件 : oDiv.attachEvent(“有on事件名”,function(){}) //只支持冒泡,所以没有第三个参数<br>    监听事件取消 : oDiv.detachEvent(“有on事件名”,function(){})<br>-<br>    阻止事件冒泡 : window.event.cancelBubble()<br>    阻止默认行为 : window.event.returnValue()</p>
<p>(4) 事件对象<br>    var event = event || windwo.event;<br>    event.clientX  获取鼠标相对于可视区的坐标<br>    event.pageX    获取鼠标相对于页面的坐标<br>    event.screenX  获取鼠标相对于屏幕的坐标</p>
<h3 id="作用域、闭包"><a href="#作用域、闭包" class="headerlink" title="作用域、闭包"></a>作用域、闭包</h3><h4 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h4><p>1、定义 : 作用域就是变量在当前环境now、内部环境fn、再内部环境fn2/fn3….都起作用的现象连成的一条链 称作<code>作用域链</code></p>
<p>2、作用特点<br>(1) 内部环境能使用外部环境的变量,反之不行<br>(2) 变量或函数的作用域是声明是决定的,而不是运行时</p>
<p>3、作用于中个个同名变量的优先级<br>内部变量&gt;&gt;内部函数&gt;&gt;形参&gt;&gt;外部变量</p>
<h4 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h4><p>(1) 定义 : 可以理解为一个外部函数嵌套一个内部函数(这个内部函数就是闭包),形成闭包的条件是外部函数通过return 将内部函数返回出来<br>           无论通过何种手段将内部函数传递到所在的词法作用域以外，它都会持有对原始定义作用域的引用，无论在何处执行这个函数都会使用闭包。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> getfn0 = waifn(<span class="number">100</span>);</div><div class="line"><span class="keyword">var</span> getfn1 = waifn(<span class="number">110</span>);</div><div class="line"><span class="keyword">var</span> getfn2 = waifn(<span class="number">120</span>);</div><div class="line"><span class="comment">//getfn0/1/2 都是互相独立的没有不好互相影响</span></div><div class="line"><span class="comment">//getfn() === neifn0()</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">waifn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">neifn</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">"bib"</span>)&#125;</div><div class="line">    <span class="keyword">return</span> neifn;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>(2) 特点<br>时外部环境能通过闭包访问内部函数的变量</p>
<p>(3) 案例</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</div><div class="line">  arr[i] = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(i);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">arr[<span class="number">0</span>](); <span class="comment">//4</span></div><div class="line">arr[<span class="number">1</span>](); <span class="comment">//4</span></div><div class="line">arr[<span class="number">2</span>](); <span class="comment">//4</span></div><div class="line">arr[<span class="number">3</span>](); <span class="comment">//4</span></div></pre></td></tr></table></figure>
<p>以上的结果都是4<br>for循环生成4个访问 i 的函数,for循环之后i的值已经定格为4了,所以输出都是4<br>for循环的作用其实就是生产i次循环体</p>
<p>或者将i存起来,调用是去除对应的i值<br>所以必须在for循环里面调用才行(匿名函数自执行虽然能解决但是不能再外面灵活调用)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</div><div class="line">  arr[i] = (<span class="function"><span class="keyword">function</span>(<span class="params">n</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(n)</div><div class="line">  &#125;)(i)  <span class="comment">//调用</span></div><div class="line">&#125;</div><div class="line"></div><div class="line">arr[<span class="number">0</span>]();</div><div class="line"></div><div class="line">这样arr得到的就是执行的返回值,就能不能调用了</div></pre></td></tr></table></figure>
<p>如果一定要在外面使用,可以用<code>闭包</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</div><div class="line">    arr[i] = waifn(i)  <span class="comment">//调用</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">waifn</span>(<span class="params">n</span>)</span>&#123;</div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">neifn</span>(<span class="params"></span>)</span>&#123;</div><div class="line">         <span class="built_in">console</span>.log(n)</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> neifn;</div><div class="line">&#125;</div><div class="line">arr[<span class="number">0</span>]();</div><div class="line">arr[<span class="number">1</span>]();</div><div class="line">arr[<span class="number">2</span>]();</div><div class="line">arr[<span class="number">3</span>]();</div><div class="line"></div><div class="line"><span class="comment">//也能使用匿名</span></div><div class="line"><span class="keyword">var</span> arr = [];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i++)&#123;</div><div class="line">    arr[i] = (<span class="function"><span class="keyword">function</span>(<span class="params">i</span>)</span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="built_in">console</span>.log(i)</div><div class="line">        &#125;</div><div class="line">    &#125;)(i)</div><div class="line">&#125;</div><div class="line"></div><div class="line">arr[<span class="number">0</span>]();</div><div class="line">arr[<span class="number">1</span>]();</div><div class="line">arr[<span class="number">2</span>]();</div><div class="line">arr[<span class="number">3</span>]();</div></pre></td></tr></table></figure>
<h3 id="JS中的面向对象"><a href="#JS中的面向对象" class="headerlink" title="JS中的面向对象"></a>JS中的面向对象</h3><h4 id="字面量方式创建对象"><a href="#字面量方式创建对象" class="headerlink" title="字面量方式创建对象"></a>字面量方式创建对象</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> obj = &#123;</div><div class="line">  name : <span class="string">"liao"</span>,</div><div class="line">  say : <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      <span class="built_in">console</span>.log()</div><div class="line">  &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h4 id="构造函数方式创建对象"><a href="#构造函数方式创建对象" class="headerlink" title="构造函数方式创建对象"></a>构造函数方式创建对象</h4><p>function Tiger(){</p>
<p>}</p>
<p>1、call() 和 apply  让一个函数可以调用另外一个函数的方法<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">fn.call(obj,fn参数<span class="number">1</span>、......)  <span class="comment">//将fn所在的作用域变为obj</span></div><div class="line">fn.apply(obj,[fn参数<span class="number">1</span>、......])  <span class="comment">//将fn所在的作用域变为obj</span></div><div class="line"></div><div class="line">在第二个构造函数内 : Person.call(<span class="keyword">this</span>);  <span class="comment">//这个构造函数继承了Person 构造函数部分（子构造函数）</span></div></pre></td></tr></table></figure></p>
<p>2、构造器<br>var obj = new Tiger();<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//new内部的动作</span></div><div class="line"><span class="comment">// Cat.prototype</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>) </span>&#123;  <span class="comment">//cat： 猫</span></div><div class="line">    <span class="keyword">this</span> = &#123;&#125;;  <span class="comment">//让this 指向一个空对象。</span></div><div class="line">    <span class="keyword">this</span>.__proto__ = Cat.prototype;</div><div class="line"></div><div class="line">    <span class="keyword">this</span>.age = <span class="number">18</span>;</div><div class="line">    <span class="keyword">this</span>.show = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">this</span>.name = <span class="string">'1123'</span>;<span class="comment">//污染全局</span></div><div class="line"></div><div class="line">    <span class="comment">// return &#123;</span></div><div class="line">    <span class="comment">//  name: 12</span></div><div class="line">    <span class="comment">// &#125;;</span></div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// new： 操作符，   a+b    -  * </span></div><div class="line">  <span class="keyword">var</span> cat = <span class="keyword">new</span> Cat(); <span class="comment">//通过构造函数 构造一个对象出来。</span></div><div class="line"></div><div class="line">  <span class="comment">// new: 内部的原理，</span></div><div class="line">  <span class="comment">// 第0步： 在内存中开辟一块空间。</span></div><div class="line">  <span class="comment">// 第一步：创建一个新空对象。</span></div><div class="line">  <span class="comment">// 第二步： 把this 指向到这个空对象。</span></div><div class="line">  <span class="comment">// 第三步： 把空对象的 内部原型 指向 构造函数的原型对象。</span></div><div class="line">  <span class="comment">// 第四步： 当构造函数执行完成后，如果么有return的话，那么把当前空对象返回。</span></div></pre></td></tr></table></figure></p>
<p>obj.constructor;  //获得构造器<br>obj instanceof Tiger  //判断obj是不是String的实例对象 返回Boolean值</p>
<p>(3) js的封装、继承、多肽<br>封装的成员<br>    公开成员: 构造函数内通过<code>this</code>赋予的成员<br>    私有成员: 构造函数内通过<code>var</code>申明的成员<br>继承(原型继承)<br>    –call方法<br>      构造函数中: Person.call(this);<br>    -<br>    –构造函数prototype继承对象<br>      Tiger.prototype = cat对象/new Person(); //继承其本身与构造器与原型中所以属性<br>    -<br>    –prototype添加属性和方法<br>      Tiger.prototype.xxx = xxx;<br>-<br>      如果有继承对象要先继承对象再继承单一成员,对象只能继承一个<br>call继承<br>    构造函数中: Person.call(this);<br>    函数原型中: Employee.prototype = new Person();//创建这个实例对象时，上层构造函数也会给它设置对象成员</p>
<p>原型链继承</p>
<p>当从一个对象那里读取属性或调用方法时，如果该对象自身不存在这样的属性或方法，就会去自己关联的 prototype 对<br>象那里寻找；如果 prototype 没有，又会去 prototype 自己关联的前辈 prototype 那里寻找，直到找到或追溯过程结束为止。</p>
<p>原型链的最末端，就是 Object 构造函数 prototype 属性指向的那一个原型对象</p>
<p> Function, Boolean, String, Date 和 RegExp 这些的 prototype 都是从这个Object传承下来的，但他们各自又定义了自身的属性和方法，</p>
 <figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//遍历对象</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> obj)&#123;</div><div class="line">   <span class="built_in">console</span>.log(i + <span class="string">":"</span> obj[i])  <span class="comment">//这里不能用obj.i  不然会找obj的i属性</span></div><div class="line"></div><div class="line">   <span class="comment">//查看obj的构造器</span></div><div class="line">   <span class="built_in">console</span>.log(obj.constructor)</div><div class="line"></div><div class="line">   <span class="comment">//obj.hasOwnProperty() 方法</span></div><div class="line">   <span class="keyword">if</span>(obj.hasOwnProperty(i))&#123;</div><div class="line">       <span class="built_in">console</span>.log(<span class="string">"hasOwnProperty判断出i是对象自身的成员,不是继承的"</span>)</div><div class="line">   &#125;<span class="keyword">else</span>&#123;</div><div class="line">       <span class="built_in">console</span>.log(<span class="string">"hasOwnProperty判断出i不是对象自身的成员,是继承的"</span>)</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>静态成员: 是构造函数直接.出来的，只能通过构造函数调用</p>
<p>多肽 : 同样的操作实现多种状态<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//js 通过arguments 是函数传入不同参数而做出不同的处理 可以算是多肽</span></div><div class="line"><span class="comment">//js 的this关键字可以体现多肽，其可以通过call、apply等方式任意代表其他对象</span></div></pre></td></tr></table></figure></p>
<h4 id="new-Object-方式创建对象"><a href="#new-Object-方式创建对象" class="headerlink" title="new Object() 方式创建对象"></a>new Object() 方式创建对象</h4><h3 id="异常-Exception"><a href="#异常-Exception" class="headerlink" title="异常 Exception"></a>异常 Exception</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">try</span>&#123;</div><div class="line">  <span class="comment">//有可能产生异常的语句</span></div><div class="line">&#125;<span class="keyword">catch</span>(e)&#123;</div><div class="line">  <span class="comment">//捕捉异常 e是异常信息对象</span></div><div class="line">&#125;<span class="keyword">finally</span>&#123;</div><div class="line">  <span class="comment">//不管有没有异常最后一定执行的语句</span></div><div class="line">  <span class="built_in">console</span>.log()</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><hr>
<p>— js的编译过程是 先申明、后赋值<br>— js没有块级作用域 if(){} for(){} 里定义的变量外面也能用</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/13/RegExp/" itemprop="url">
                  RegExp
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-13T07:01:39+08:00" content="2016-12-13">
              2016-12-13
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/13/RegExp/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/13/RegExp/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="正则字符集"><a href="#正则字符集" class="headerlink" title="正则字符集"></a>正则字符集</h2><p>==&gt; 定义字符集(没有特殊要求就只匹配符合要求的第一个)</p>
<pre><code>[a-z]          匹配一个小写字母
[A-Z]          匹配一个大写字母
[ABC]          匹配 A || B || C 中的一个
[0-9]          匹配一个阿拉伯数字
[0-9a-zA-Z_]   匹配一个数字或字母或下划线
[0-9][a-z]     匹配一个数字和一个小写字母
</code></pre><p>==&gt; 特别字符集</p>
<pre><code>* : 其前面那个单元出现0次或以上(还是单次匹配 如:[0-9] 返回 &quot;123-4&quot; 中的123)
+ : 其前面那个单元出现1次或以上(还是单次匹配 如:[0-9] 返回 &quot;123-4&quot; 中的123)
？: 其前面那个单元出现1次或不出现
| : 或 先匹配左边的 如果没有就匹配右边的
. : 可以代替出来 \n(换行之外的任意字符)
\ : 转义字符( \* 这个*就没有前面的匹配功能了)
$ : 匹配字符串的结尾位置
^ ：匹配字符串的开始位置 (中括号内表示 取反)
</code></pre><p>==&gt; 模式修正符 /str/模式修正符</p>
<pre><code>i : 忽略大小写
g : 多次(全局)匹配(全局匹配就没有体现模式单元了)
m : 如果有\n换行，m也能进行多行匹配

可以连续使用
</code></pre><p>==&gt; 组合字符</p>
<p>\d : 表示[0-9]  数字<br>\D : 表示[^0-9] 非数字<br>\m : 表示[a-zA-Z0-9_] 字母数值下划线<br>\M : 表示 非字母数值下划线<br>\s : 空格<br>\S : 非空格<br>\b : 单词边界<br>\B : 非单词边界</p>
<p>==&gt; 限定字符</p>
<pre><code>[ ] : 使里面的匹配成为一个单元(如果没有方括号的话每一个字符都是一个单元)
{m} : 前面的单元能匹配m次才可以
{m,} : 至少m次
{m,n} : 至少m次,最多n次
</code></pre><p>==&gt; () 模式单元</p>
<pre><code>() : 标记一个字表达式的开始和结束,号称 模式单元
      优先级高
      括号里的字符是拆分出来的子字符串(匹配的返回值的数组中可以得到)  

() 单元模式的从发使用

var reg = /[0-9]+-[0-9]+ : [0-9]+-[0-9]+/   ===   /([0-9]+)-\1 : \1-\1/ 

    1 代表子表达式在数组中的位置,如果有第二个字表达式就用 \2
    但是\1表示的数据,的类型和数值大小都要一样

    多个括号横向拍,有的又有嵌套括号，先从左向右,从外向内(直接打印成数组比较直观)
</code></pre><p>==&gt; 正向预查</p>
<p>– 正向匹配 (?=…模式(特殊格式指定信息)..)</p>
<p>   我们要查找的内容右边必须出现模式中指定的信息要求,才符合条件。右边的辅助条件是不会出现在结果中的</p>
<pre><code>var reg = /pattern(?=模式)/ 
</code></pre><p>–正向不匹配 (?!…模式(特殊格式指定信息)…)</p>
<p>   我们要查找的内容右边必须不能出现模式中指定的信息要求,才符合条件。</p>
<p>==&gt; 反向预查 和正向预查一样,只是模式在左边,右边的内容必须符合左边的要求</p>
<p>反向匹配 : var reg = /(?&lt;=模式)pattern/</p>
<p>反向不匹配 : var reg = /(?&lt; !模式)pattern/   反向预查据说只有PHP支持</p>
<h2 id="使用正则的方法"><a href="#使用正则的方法" class="headerlink" title="使用正则的方法"></a>使用正则的方法</h2><hr>
<h3 id="正则方法"><a href="#正则方法" class="headerlink" title="正则方法"></a>正则方法</h3><p>   var reg = new RegExp(正则,”g”,…)</p>
<p>   reg.test(str) //匹配 返回true 否则返回false<br>   reg.exec(str) //返回匹配的字符串 , 否则返回null<br>   reg.compile(正则2) //既可以改变检索模式，也可以添加或删除第二个参数。</p>
<h3 id="字符串方法"><a href="#字符串方法" class="headerlink" title="字符串方法"></a>字符串方法</h3><p>==&gt; str.strFn(正则)</p>
<pre><code>str.match(/liao/) //返回第一个匹配到的字符串、匹配到的第一个字符的索引和str 

str.replace(&quot;字符串||正则&quot;,&quot;替换内容&quot;)  //将str中第一个参数或匹配的正则位置,替换成后面的内容

str.search(/reg/ || str) //返回匹配到的字符串的索引,没有就 -1

str.split(/reg/ || str,number) //将字符串以指定的符号分隔为字符串数组

                                 参数二限定取得的数组长度

                                 正则的用法是以匹配到的内容为分割线
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/11/Ajax/" itemprop="url">
                  Ajax
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-11T21:37:05+08:00" content="2016-12-11">
              2016-12-11
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/11/Ajax/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/11/Ajax/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="http请求-请求-响应"><a href="#http请求-请求-响应" class="headerlink" title="http请求 = 请求 + 响应"></a>http请求 = 请求 + 响应</h3><pre><code>var xhr = new XMLHttpRequest()

请求 = 请求行 + 请求头 + 请求主体

     请求行 (Get/Post , Url , 协议) 

            对应Ajax的 xhr.open(Get/Post , Url , 是否异步(默认为true))

     请求头 : 浏览器的一些信息 + Content-Type (get方式的没有Content-Type) 

            xhr.setRequestHeader(&apos;Content-Type&apos;,&apos;&apos;)

            get方式的没有所以不用设置这个

     请求主体 :form Date  (Get方式的没有)

            对应Ajax的 xhr.send(请求主体)

     get与post方式的差别主要有两个

         (1) get通过url发送内容，post通过send函数发送
         (2) get不用设置Content-Type,post 要

响应 = 状态行 + 响应头 + 响应主体

     状态行 ：主要有一个状态码

             xhr.onreadystatechange =function(){ //响应状态发生变化时触发

                   if(xhr.readyState = 4){     //如果响应完成后执行以下操作

                        if(xhr.statrs ==200){ //状态码

                            xhr.responseText  //响应主体

                        }


                   }

             }

     响应头
</code></pre><p>==&gt; xhr.setRequestHeader(‘Content-Type’,’数据格式’)<br>    因为send发送的数据是各种各样的,所以要告诉服务器应该怎么处理浏览器发送的数据</p>
<p>==&gt; Content- 开头的都是是请体的参数,Content-Type就是请求体的类型(get没有请求体所以不会有这些参数)</p>
<p>==&gt; mate标签的 http-equiv=”” 属性用来模拟响应头</p>
<p>==&gt; 其他属性和方法</p>
<pre><code>xhr.statusText //状态码对应的状态信息
xhr.getAllResponseHeaders() //获取全部响应头信息
xhr.getResponseHeaders(&quot;key&quot;) //获取指定头信息
</code></pre><h3 id="简单模仿jQuery封装"><a href="#简单模仿jQuery封装" class="headerlink" title="简单模仿jQuery封装"></a>简单模仿jQuery封装</h3><pre><code>/*
  ajax({
    type:  //传输方式
    url:  //链接的地址
    data:  //传送的数据
    success: //成功回调函数
    lose:  //失败回调函数
  })
  ajax({

    type:&quot;post&quot;,

    url:&quot;post.php&quot;,

    data:&quot;&amp;user=465&amp;pwd=741&quot;,

    success:function(a){alert(a)},

    lose:function(a){alert(&quot;出错了,状态码为&quot;+a)}

  });

*/
function ajax(json){
   var type = json.type || &quot;get&quot;;

   var url = json.url;

   var data = json.data || &quot;&quot;;

   var xhr = null;

     if (window.XMLHttpRequest){

       xhr = new XMLHttpRequest();

     }else{

         xhr = new ActiveXObject( &apos;Microsoft.XMLHTTP&apos; );

     }

     //有时data有带中文的有时会出现乱码 可用encodeURI();解决
     //?username=&quot;+encodeURI(姓名)+&quot;  。。。
     if(type==&quot;get&quot;)url+=&quot;?&quot;+data+&quot;&amp;&quot;+Math.random();

     xhr.open(type,url,true);

     if (type == &quot;get&quot;){

         xhr.send();

     }else{

       //post传数据方法 必须规定传输数据的格式
       //form中默认有的  
       xhr.setRequestHeader(&apos;content-type&apos;,&apos;application/x-www-form-urlencoded&apos;);

       xhr.send(data);//不会有缓存问题

     }

   //当状态值发生改名是执行 onr eadystate change
   xhr.onreadystatechange = function(){

         //ajax的工作转态
         if (xhr.readyState == 4){

             //http转态码
             if (xhr.status&gt;=200 &amp;&amp; xhr.status&lt;300){

                 json.success &amp;&amp; json.success(xhr.responseText)
                 //typeof xhr.responseText 查看获取的数据类型
                 //eval(xhr.responseText) 如果是字符串就转成ja语句

             }else{

                 json.lose?json.lose(xhr.status):alert(&quot;发生了&quot;+xhr.status+&quot;错误&quot;)

             }

         }

   }

}
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/12/11/myAccumulation/" itemprop="url">
                  myAccumulation
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-12-11T16:08:41+08:00" content="2016-12-11">
              2016-12-11
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/12/11/myAccumulation/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/12/11/myAccumulation/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="时低版本浏览器认识html5的语义化标签的两种方法"><a href="#时低版本浏览器认识html5的语义化标签的两种方法" class="headerlink" title="时低版本浏览器认识html5的语义化标签的两种方法"></a>时低版本浏览器认识html5的语义化标签的两种方法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">document.creatElement(&quot;header&quot;) 创建该元素</div><div class="line"></div><div class="line">支持html5标签</div><div class="line">&lt;!--[if lt IE 9]&gt;&lt;script src=&quot;http://html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;&lt;![endif]--&gt;</div><div class="line"></div><div class="line">支持低版本选择器(必须先引入一下js库官网上有 [http://selectivizr.com/)</div><div class="line">&lt;!--[if lte IE 8]&gt;&lt;script src=&quot;http://cdn.bootcss.com/selectivizr/1.0.2/selectivizr.js&quot;&gt;&lt;/script&gt;&lt;![endif]--&gt;</div></pre></td></tr></table></figure>
<h3 id="获取和标签写入的样式"><a href="#获取和标签写入的样式" class="headerlink" title="获取和标签写入的样式"></a>获取<link>和<style>标签写入的样式</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="keyword">var</span> obj = <span class="built_in">document</span>.styleSheets[<span class="number">0</span>]; <span class="comment">// [object StyleSheetList] 样式表的个数&lt;link&gt;var rule = null;// [object CSSRule]</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> (obj.cssRules)&#123;</div><div class="line"></div><div class="line">    rule = obj.cssRules[<span class="number">0</span>];  <span class="comment">// 非IE [object CSSRuleList]</span></div><div class="line"></div><div class="line">&#125; <span class="keyword">else</span> &#123;</div><div class="line"></div><div class="line">    rule = obj.rules[<span class="number">0</span>];     <span class="comment">// IE [object CSSRuleList]</span></div><div class="line"></div><div class="line">&#125; </div><div class="line"></div><div class="line">alert(rule.style.width); </div><div class="line"></div><div class="line"><span class="comment">//cssRules(或rules)只能获取到内联和链接样式的宽和高，不能获取到行内和计算后的样式。</span></div></pre></td></tr></table></figure>
<h3 id="小程序"><a href="#小程序" class="headerlink" title="小程序"></a>小程序</h3><p>(1)小程序中rpx与px的转换</p>
<p>例如：设计稿750px宽度</p>
<p>ps上量出宽度是多少，那么你就定义多少rpx，也就是 1px = 1rpx</p>
<p>例如：设计稿640px宽度</p>
<p>那么很遗憾，你需要转换一下 1px = 750/640 rpx</p>
</style></h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/3/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/img/head2.jpg"
               alt="Lzo勋" />
          <p class="site-author-name" itemprop="name">Lzo勋</p>
          <p class="site-description motion-element" itemprop="description">GitHub小博客</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">23</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">8</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lzo勋</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"liaozhongxun"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
  





  
  
  

  

  

</body>
</html>
